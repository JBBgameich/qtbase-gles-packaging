Author: Pino Toscano <pino@kde.org>
Description: Fixes FTBFS on GNU/kFreeBSD by creating new Q_OS_FREEBSD_KERNEL.
 Modified by Lisandro D. N. PÃ©rez Meyer <lisandro@debian.org> for Qt5.
Last-Update: 2013-11-07
Forwarded: not-needed

--- a/src/corelib/global/qsystemdetection.h
+++ b/src/corelib/global/qsystemdetection.h
@@ -121,6 +121,8 @@
 #elif defined(__FreeBSD__) || defined(__DragonFly__)
 #  define Q_OS_FREEBSD
 #  define Q_OS_BSD4
+#elif defined(__FreeBSD_kernel__)
+#  define Q_OS_FREEBSD_KERNEL
 #elif defined(__NetBSD__)
 #  define Q_OS_NETBSD
 #  define Q_OS_BSD4
